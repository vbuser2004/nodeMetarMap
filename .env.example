# ===================================================================
# Node METAR Map Configuration
# ===================================================================
# Copy this file to .env and customize for your setup
#
# For local development: Set USE_MOCK_GPIO=true
# For Raspberry Pi deployment: Set USE_MOCK_GPIO=false or remove it
# ===================================================================

# -------------------------------------------------------------------
# Development / Testing
# -------------------------------------------------------------------
# Set to true for local development without Raspberry Pi hardware
# Set to false (or remove) when running on actual Raspberry Pi
USE_MOCK_GPIO=true

# -------------------------------------------------------------------
# LED Configuration
# -------------------------------------------------------------------
# Number of NeoPixel LEDs in your strip
LED_COUNT=50

# GPIO pin number (BCM numbering, typically 18 for PWM)
LED_PIN=18

# LED brightness (0.0 to 1.0)
# 0.3-0.6 is recommended for most applications
LED_BRIGHTNESS=0.5

# Dimmed brightness (0.0 to 1.0)
LED_BRIGHTNESS_DIM=0.1

# LED strip type: RGB or GRB
# Most WS2811/WS2812 strips use GRB
LED_ORDER=GRB

# -------------------------------------------------------------------
# Airport Configuration
# -------------------------------------------------------------------
# Priority order:
# 1. AIRPORTS_FILE_JSON - JSON file with LED mapping (RECOMMENDED)
# 2. AIRPORTS - Comma-separated list (simple, sequential LEDs)
# 3. AIRPORTS_FILE - Text file, one per line (backward compatible)

# Method 1: JSON file with LED mapping (RECOMMENDED)
# Allows direct LED addressing for flexible physical layout
# Example: {"airports": [{"code": "KCLT", "led": 0, "name": "Charlotte Douglas"}]}
AIRPORTS_FILE_JSON=./airports.json

# Method 2: Comma-separated list (sequential LEDs 0, 1, 2, ...)
# AIRPORTS=KGMU,KCLT,KJQF

# Method 3: Text file (backward compatible, sequential LEDs)
# AIRPORTS_FILE=/home/pi/airports

# -------------------------------------------------------------------
# Colors (RGB or GRB format - comma-separated values 0-255)
# -------------------------------------------------------------------
# Note: If LED_ORDER=GRB, first value is Green, second is Red, third is Blue
# If LED_ORDER=RGB, values are Red, Green, Blue

# VFR - Visual Flight Rules (good weather)
COLOR_VFR=255,0,0
COLOR_VFR_FADE=128,0,0

# MVFR - Marginal Visual Flight Rules
COLOR_MVFR=0,0,255
COLOR_MVFR_FADE=0,0,128

# IFR - Instrument Flight Rules
COLOR_IFR=0,255,0
COLOR_IFR_FADE=0,128,0

# LIFR - Low Instrument Flight Rules
COLOR_LIFR=255,0,255
COLOR_LIFR_FADE=128,0,128

# Clear/Off - No data or LED off state
COLOR_CLEAR=0,0,0

# Lightning - White flash
COLOR_LIGHTNING=255,255,255

# High Winds - Yellow warning
COLOR_HIGH_WINDS=255,255,0

# -------------------------------------------------------------------
# Animation Settings
# -------------------------------------------------------------------
# Enable wind animation (blink/fade for windy conditions)
ACTIVATE_WIND_ANIMATION=true

# Enable lightning animation (white flash for thunderstorms)
ACTIVATE_LIGHTNING_ANIMATION=true

# Use fade effect instead of blink for wind animation
# true = fade between normal and dim
# false = blink on/off
FADE_INSTEAD_OF_BLINK=false

# Wind speed threshold in knots for animation to trigger
WIND_BLINK_THRESHOLD=15

# High winds threshold in knots for yellow LED warning
# Set to -1 to disable high winds warning
HIGH_WINDS_THRESHOLD=25

# Always animate when gusts are present (regardless of speed)
ALWAYS_BLINK_FOR_GUSTS=false

# Animation cycle speed in seconds
BLINK_SPEED=1.0

# Total animation time in seconds
# Should match your cron interval (e.g., 300 for 5 minutes)
BLINK_TOTAL_TIME_SECONDS=300

# -------------------------------------------------------------------
# Daytime Dimming
# -------------------------------------------------------------------
# Enable automatic brightness adjustment based on time of day
ACTIVATE_DAYTIME_DIMMING=false

# Fixed time schedule (24-hour format HH:MM)
BRIGHT_TIME_START=07:00
DIM_TIME_START=19:00

# Use sunrise/sunset instead of fixed times
# Requires LOCATION_LAT and LOCATION_LON
USE_SUNRISE_SUNSET=true

# Location coordinates for sunrise/sunset calculation
# Example: Charlotte, NC
LOCATION_LAT=35.2271
LOCATION_LON=-80.8431

# -------------------------------------------------------------------
# Legend LEDs
# -------------------------------------------------------------------
# Show a legend at the end of the LED strip
# Requires 7 additional LEDs beyond your airport count
SHOW_LEGEND=false

# Number of LEDs to skip before the legend starts
OFFSET_LEGEND_BY=0

# Legend order (requires 7 LEDs):
# 1. VFR
# 2. MVFR
# 3. IFR
# 4. LIFR
# 5. Lightning indicator
# 6. Windy indicator
# 7. High winds indicator

# -------------------------------------------------------------------
# API Configuration
# -------------------------------------------------------------------
# METAR data API endpoint
METAR_API_URL=https://aviationweather.gov/api/data/metar

# METAR update interval in minutes
# How often to fetch fresh aviation weather data
# Default: 5 minutes, Recommended: 5-10 minutes
METAR_UPDATE_INTERVAL=5

# -------------------------------------------------------------------
# Mock GPIO Display Options (for development)
# -------------------------------------------------------------------
# Use colored emojis in terminal output (true) or plain letters (false)
MOCK_GPIO_COLORS=true

# Display format: 'strip' (compact horizontal) or 'detailed' (vertical list)
MOCK_GPIO_FORMAT=strip

# -------------------------------------------------------------------
# State and Logging
# -------------------------------------------------------------------
# Path to state file (JSON format, for web interface)
STATE_FILE_PATH=/home/pi/metar-state.json

# Enable historical logging
ENABLE_LOGGING=true

# Path to historical log file (JSON lines format)
# This file can be rotated using logrotate (see metar-logrotate.example)
LOG_FILE_PATH=/home/pi/metar-history.log
